---
const { input, url, textColor, backgroundColor } = Astro.props;

const primaryColor = textColor ? textColor : "var(--primary-light)";
const secondaryColor = backgroundColor
  ? backgroundColor
  : "var(--primary-dark)";
---

<a class="button-wrapper" href={url ? url : "/"}>
  <div class="inner-text">{input ? input : "SEE WORK"}</div>
  <div class="arrow-wrapper">
    <svg
      width="43"
      height="28"
      viewBox="0 0 43 28"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M20.9898 0C20.9898 1.02427 20.9067 2.84969 20.8355 4.0058C25.6173 6.51068 33.5552 10.3745 38.4674 12.7881C33.6857 12.8692 28.6311 12.8693 21.7966 12.8693C14.9622 12.8693 6.51407 12.8693 0 12.7171V15.2727C6.5734 15.1713 12.5417 15.1713 21.7254 15.1713C30.9092 15.1713 33.4247 15.1713 38.1352 15.222C33.0806 17.7168 25.5342 21.4487 20.8237 23.9232C20.9067 25.0083 20.9779 26.9149 20.9779 28C24.9528 25.0793 40.3778 17.2604 43 15.4958V12.6461C40.5439 10.8004 24.9647 3.19449 20.9898 0Z"
        fill={secondaryColor}></path>
    </svg>
  </div>
</a>

<style lang="scss" define:vars={{ primaryColor, secondaryColor }}>
  .button-wrapper {
    border: 1px solid var(--secondaryColor);
    box-sizing: content-box;
    display: inline-flex;
    justify-content: flex-end;
    overflow: hidden;
    align-items: center;
    position: relative;
    padding: 0rem;
    border-radius: 60px;
    transition: var(--hover-transition);
    box-sizing: content-box;
    background: var(--secondaryColor);
    height: 100px;
    text-decoration: none;
  }
  .button-wrapper::after {
    box-sizing: content-box;
    transition: var(--hover-transition);
    content: "";
    display: block;
    position: absolute;
    top: -1px;
    right: -1px;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    transform: translateX(0%);
    background: var(--primaryColor);
    // mix-blend-mode: difference;
    transform-origin: right;
    border-radius: 60px;
  }
  .button-wrapper:hover::after {
    // width: 30%;
    transform: translateX(calc(100% - 100px));
  }
  .button-wrapper:hover {
    cursor: pointer;
    .inner-text {
      color: var(--primaryColor);
      transition: var(--hover-transition);
    }
  }

  .inner-text {
    padding: 1rem 4rem;
    color: inherit;
    position: relative;
    display: block;
    z-index: 5;
    font-family: "Hamburg-Bold";
    font-size: 32px;
    color: var(--secondaryColor);
  }

  .arrow-wrapper {
    display: grid;
    place-items: center;
    position: relative;
    z-index: 2;
    aspect-ratio: 1/1;
    transition: var(--hover-transition);
    color: var(--secondaryColor);
    width: 100px;
    height: auto;
    border-radius: 60px;
    svg {
      display: block;
      width: 40%;
    }
  }
</style>
